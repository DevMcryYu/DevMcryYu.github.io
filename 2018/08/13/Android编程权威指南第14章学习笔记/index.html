<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="SQLite数据库SQLite是类似于MySQL和PostgreSQL的开源关系型数据库。不同于其他数据库的是，SQLite使用单个文件存储数据，读写数据时使用SQLite库。Android标准库包含SQLite库以及配套的一些Java辅助类。 定义 schema定义schema的方式众多，如何选择往往因人而异。但所有方式都有一个共同的目标：“不要重复造轮子。”实际上，这也是人人都应遵守的编程准">
<meta property="og:type" content="article">
<meta property="og:title" content="Android编程权威指南第14章学习笔记">
<meta property="og:url" content="http://yoursite.com/2018/08/13/Android编程权威指南第14章学习笔记/index.html">
<meta property="og:site_name" content="DevMcry">
<meta property="og:description" content="SQLite数据库SQLite是类似于MySQL和PostgreSQL的开源关系型数据库。不同于其他数据库的是，SQLite使用单个文件存储数据，读写数据时使用SQLite库。Android标准库包含SQLite库以及配套的一些Java辅助类。 定义 schema定义schema的方式众多，如何选择往往因人而异。但所有方式都有一个共同的目标：“不要重复造轮子。”实际上，这也是人人都应遵守的编程准">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-10-31T10:54:56.080Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android编程权威指南第14章学习笔记">
<meta name="twitter:description" content="SQLite数据库SQLite是类似于MySQL和PostgreSQL的开源关系型数据库。不同于其他数据库的是，SQLite使用单个文件存储数据，读写数据时使用SQLite库。Android标准库包含SQLite库以及配套的一些Java辅助类。 定义 schema定义schema的方式众多，如何选择往往因人而异。但所有方式都有一个共同的目标：“不要重复造轮子。”实际上，这也是人人都应遵守的编程准">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/08/13/Android编程权威指南第14章学习笔记/"/>





  <title>Android编程权威指南第14章学习笔记 | DevMcry</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DevMcry</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/13/Android编程权威指南第14章学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DevMcry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevMcry">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Android编程权威指南第14章学习笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-13T15:49:51+08:00">
                2018-08-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <a id="more"></a>
<h2 id="SQLite数据库"><a href="#SQLite数据库" class="headerlink" title="SQLite数据库"></a>SQLite数据库</h2><p>SQLite是类似于MySQL和PostgreSQL的开源关系型数据库。不同于其他数据库的是，SQLite使用单个文件存储数据，读写数据时使用SQLite库。Android标准库包含SQLite库以及配套的一些Java辅助类。</p>
<h3 id="定义-schema"><a href="#定义-schema" class="headerlink" title="定义 schema"></a>定义 schema</h3><p>定义schema的方式众多，如何选择往往因人而异。但所有方式都有一个共同的目标：“不要重复造轮子。”实际上，这也是人人都应遵守的编程准则：多花时间思考复用代码的编写和调用，避免在应用中到处使用重复代码。</p>
<h3 id="创建初始数据库"><a href="#创建初始数据库" class="headerlink" title="创建初始数据库"></a>创建初始数据库</h3><p>(1) 确认目标数据库是否存在。<br>(2) 如果不存在，首先创建数据库，然后创建数据表并初始化数据。<br>(3) 如果存在，打开并确认XXXDbSchema是否为最新（后续版本可能有改动）。<br>(4) 如果是旧版本，就先升级到最新版本。<br>以上工作可借助Android的SQLiteOpenHelper类处理。<br>调用 <code>getWritableDatabase()</code> 方法时，CrimeBaseHelper会做如下工作。<br>(1) 打开/data/data/…/databases/crimeBase.db数据库；如果<br>不存在，就先创建crimeBase.db数据库文件。<br>(2) 如果是首次创建数据库，就调用<code>onCreate(SQLiteDatabase)</code>方法，然后保存最新的版本号。<br>(3) 如果已创建过数据库，首先检查它的版本号。如果CrimeBaseHelper中的版本号更高，就调用<code>onUpgrade(SQLiteDatabase, int, int)</code>方法升级。<br>最后做个总结：onCreate(SQLiteDatabase)方法负责创建初始数据库；<code>onUpgrade(SQLiteDatabase, int, int)</code>方法负责与升级相关的工作。<br>使用 <code>db.execSQL(...)</code> 方法创建数据表。相比其他数据库，创建SQLite数据库表省事又简单：创建表字段时，不需要指定表字段类型。</p>
<h3 id="写入数据库"><a href="#写入数据库" class="headerlink" title="写入数据库"></a>写入数据库</h3><h4 id="使用-ContantValues"><a href="#使用-ContantValues" class="headerlink" title="使用 ContantValues"></a>使用 ContantValues</h4><p>负责处理数据库写入和更新操作的辅助类是ContentValues。它是一个键值存储类，类似于<br>Java的HashMap和前面用过的Bundle。不同的是，ContentValues只能用于处理SQLite数据。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ContentValues <span class="title">getContentValues</span><span class="params">(Crime crime)</span> </span>&#123;</span><br><span class="line">  ContentValues values = <span class="keyword">new</span> ContentValues();</span><br><span class="line"></span><br><span class="line">  values.put(CrimeTable.Cols.UUID, crime.getId().toString());</span><br><span class="line">  values.put(CrimeTable.Cols.TITLE, crime.getTitle());</span><br><span class="line">  values.put(CrimeTable.Cols.DATE, crime.getDate().getTime());</span><br><span class="line">  values.put(CrimeTable.Cols.SOLVED, crime.isSolved() ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="插入和更新记录"><a href="#插入和更新记录" class="headerlink" title="插入和更新记录"></a>插入和更新记录</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*插入记录*/</span></span><br><span class="line">ContentValues values = getContentValues(crime);</span><br><span class="line">mDatabase.insert(CrimeTable.NAME, <span class="keyword">null</span>, values);</span><br></pre></td></tr></table></figure>
<p><code>insert(String, String, ContentValues)</code> 方法的第一和第三个参数很重要，第二个很少用到。传入的第一个参数是数据表名 ，第三个是要写入的数据。第二个参数称为nullColumnHack。它有什么用途呢？别急，举个例子你就明白了。假设你想调用 <code>insert(...)</code> 方法，但传入了ContentValues空值。这时，SQLite不干了，<code>insert(...)</code> 方法调用只能以失败告终。然而，如果能以uuid值作为nullColumnHack传入的话，SQLite就可以忽略ContentValues空值，而且还会自动传入一个带uuid且值为null的ContentValues。结果，<code>insert(...)</code>方法得以成功调用并插入了一条新记录。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*读取记录*/</span></span><br><span class="line">String uuidString = crime.getId().toString();</span><br><span class="line">ContentValues values = getContentValues(crime);</span><br><span class="line">mDatabase.update(CrimeTable.NAME, values,CrimeTable.Cols.UUID + <span class="string">" = ?"</span>,</span><br><span class="line"><span class="keyword">new</span> String[] &#123; uuidString &#125;);</span><br></pre></td></tr></table></figure></p>
<p><code>update(String, ContentValues, String, String[])</code>方法类似于<code>insert(...)</code>方法，向其传入要更新的数据表名和为表记录准备的ContentValues。然而，与<code>insert(...)</code>方法不同的是，你要确定该更新哪些记录。具体的做法是：创建where子句（第三个参数），然后指定where子句中的参数值（String[]数组参数）。问题来了，为什么不直接在where子句中放入uuidString呢？这可比使用?然后传入String[]简单多了！事实上，很多时候，String本身会包含SQL代码。如果将它直接放入query语句中，这些代码可能会改变query语句的含义，甚至会修改数据库资料。这实际就是SQL脚本注入，其危害相当严重。使用?的话，就不用关心String包含什么，代码执行的效果肯定就是我们想要的。因此，建议你保持这种良好的编码习惯。</p>
<h3 id="读取数据库"><a href="#读取数据库" class="headerlink" title="读取数据库"></a>读取数据库</h3><p>读取数据需要用到 <code>SQLiteDatabase.query(...)</code> 方法。这个方法有好几个重载版本。我们<br>要用的版本如下：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public Cursor query(</span><br><span class="line">  String table,</span><br><span class="line">  String[] columns,</span><br><span class="line">  String where,</span><br><span class="line">  String[] whereArgs,</span><br><span class="line">  String groupBy,</span><br><span class="line">  String having,</span><br><span class="line">  String orderBy,</span><br><span class="line">  String limit)</span><br></pre></td></tr></table></figure></p>
<p>参数 table 是要查询的数据表。参数 columns 指定要依次获取哪些字段的值。参数 where 和 whereArgs 的作用与<code>update(...)</code>方法中的一样。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Cursor <span class="title">queryCrimes</span><span class="params">(String whereClause, String[] whereArgs)</span> </span>&#123;</span><br><span class="line">  Cursor cursor = mDatabase.query(</span><br><span class="line">    CrimeTable.NAME,</span><br><span class="line">    <span class="keyword">null</span>, <span class="comment">// Columns - null selects all columns</span></span><br><span class="line">    whereClause,</span><br><span class="line">    whereArgs,</span><br><span class="line">    <span class="keyword">null</span>, <span class="comment">// groupBy</span></span><br><span class="line">    <span class="keyword">null</span>, <span class="comment">// having</span></span><br><span class="line">    <span class="keyword">null</span> <span class="comment">// orderBy</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> cursor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="使用CusorWarpper"><a href="#使用CusorWarpper" class="headerlink" title="使用CusorWarpper"></a>使用CusorWarpper</h4><p>Cursor 是个神奇的表数据处理工具。其功能就是封装数据表中的原始字段值。从 Cursor 获取数据的代码大致如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String uuidString = cursor.getString(cursor.getColumnIndex(CrimeTable.Cols.UUID));</span><br><span class="line">String title = cursor.getString(cursor.getColumnIndex(CrimeTable.Cols.TITLE));</span><br><span class="line"><span class="keyword">long</span> date = cursor.getLong(cursor.getColumnIndex(CrimeTable.Cols.DATE));</span><br><span class="line"><span class="keyword">int</span> isSolved = cursor.getInt(cursor.getColumnIndex(CrimeTable.Cols.SOLVED));</span><br></pre></td></tr></table></figure></p>
<p>考虑到代码复用,不如使用 CursorWrapper 封装 Cursor 的对象,然后再添加有用的拓展方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CrimeCursorWrapper</span> <span class="keyword">extends</span> <span class="title">CursorWrapper</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CrimeCursorWrapper</span><span class="params">(Cursor cursor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(cursor);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>以上代码创建了一个 Cursor 封装类。该类继承了 Cursor 类的全部方法。注意，这样封装的目的就是定制新方法，以方便操作内部 Cursor 。</p>
<h4 id="创建模型层对象"><a href="#创建模型层对象" class="headerlink" title="创建模型层对象"></a>创建模型层对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  cursor.moveToFirst();</span><br><span class="line">  <span class="keyword">while</span> (!cursor.isAfterLast()) &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    cursor.moveToNext();</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  cursor.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>数据库 cursor 之所以被称为 cursor ，是因为它内部就像有根手指似的，总是指向查询的某个地方。因此，要从 cursor 中取出数据，首先要调用<code>moveToFirst()</code>方法移动虚拟手指指向第一个元素。读取行记录后，再调用<code>moveToNext()</code>方法，读取下一行记录，直到<code>isAfterLast()</code>说没有数据可取为止。最后，别忘了调用 Cursor 的<code>close()</code>方法关闭它，否则会出错：轻则应用报错，重则应用崩溃。</p>
<h3 id="深入学习：应用上下文"><a href="#深入学习：应用上下文" class="headerlink" title="深入学习：应用上下文"></a>深入学习：应用上下文</h3><p>应用上下文有什么特别呢？就上例来看，为什么要用应用上下文，而不直接用activity作为context呢？<br>要回答上述问题，关键就在于考虑它们的生命周期。只要有 activity 在， Android 肯定也创建了 application 对象。用户在应用的不同界面间导航时，各个 activity 时而存在时而消亡，但 application 对象不会受任何影响。可以说，它的生命周期要比任何 activity 都长。 CrimeLab 是一个单例。这表明，一旦创建，它就会一直存在，直至整个应用进程被销毁。由代码可知， CrimeLab 引用着 mContext 对象。显然，如果把 activity 作为 mContext 对象保存的话，这个由 CrimeLab 一直引用着的 activity 肯定会免遭垃圾回收器的清理，即便用户跳转离开这个 activity 时也是如此。为了避免资源浪费，我们使用了应用上下文。这样， CrimeLab 仍可以引用Context对象，而 activity 的生死也不用受它束缚了。  </p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>支持</span>
  </button>
  <div id="QR" style="display: none;">

    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="DevMcry 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/06/Android编程权威指南第13章学习笔记/" rel="next" title="Android编程权威指南第13章学习笔记">
                <i class="fa fa-chevron-left"></i> Android编程权威指南第13章学习笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/30/JSON学习笔记/" rel="prev" title="JSON学习笔记">
                JSON学习笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="DevMcry" />
            
              <p class="site-author-name" itemprop="name">DevMcry</p>
              <p class="site-description motion-element" itemprop="description">间歇性热爱学习</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SQLite数据库"><span class="nav-number">1.</span> <span class="nav-text">SQLite数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义-schema"><span class="nav-number">1.1.</span> <span class="nav-text">定义 schema</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建初始数据库"><span class="nav-number">1.2.</span> <span class="nav-text">创建初始数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写入数据库"><span class="nav-number">1.3.</span> <span class="nav-text">写入数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-ContantValues"><span class="nav-number">1.3.1.</span> <span class="nav-text">使用 ContantValues</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#插入和更新记录"><span class="nav-number">1.3.2.</span> <span class="nav-text">插入和更新记录</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读取数据库"><span class="nav-number">1.4.</span> <span class="nav-text">读取数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用CusorWarpper"><span class="nav-number">1.4.1.</span> <span class="nav-text">使用CusorWarpper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建模型层对象"><span class="nav-number">1.4.2.</span> <span class="nav-text">创建模型层对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#深入学习：应用上下文"><span class="nav-number">1.5.</span> <span class="nav-text">深入学习：应用上下文</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DevMcry</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
